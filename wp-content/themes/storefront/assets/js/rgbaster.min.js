!function(a,b){"use strict";var c=function(){return document.createElement("canvas").getContext("2d")},d=function(a,b){var d=new Image,e=a.src||a;"data:"!==e.substring(0,5)&&(d.crossOrigin="Anonymous"),d.onload=function(){var a=c("2d");a.drawImage(d,0,0);var e=a.getImageData(0,0,d.width,d.height);b&&b(e.data)},d.src=e},e=function(a){return["rgb(",a,")"].join("")},f=function(a){return a.map(function(a){return e(a.name)})},g=5,h=10,i={};i.colors=function(a,b){b=b||{};var c=b.exclude||[],i=b.paletteSize||h;d(a,function(d){function h(a){return p>a.count?(a.name=l,a.count=p,!0):void 0}for(var j=a.width*a.height||d.length,k={},l="",m=[],n={dominant:{name:"",count:0},palette:Array.apply(null,new Array(i)).map(Boolean).map(function(){return{name:"0,0,0",count:0}})},o=0;j>o;){if(m[0]=d[o],m[1]=d[o+1],m[2]=d[o+2],l=m.join(","),l in k?k[l]=k[l]+1:k[l]=1,-1===c.indexOf(e(l))){var p=k[l];p>n.dominant.count?(n.dominant.name=l,n.dominant.count=p):n.palette.some(h())}o+=4*g}if(b.success){var q=f(n.palette);b.success({dominant:e(n.dominant.name),secondary:q[0],palette:q})}})},a.RGBaster=a.RGBaster||i}(window);